(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[6],{29:function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return f}));var r=n(34),c=n.n(r),a="aaee1fa0f8436ed85929dc238ccb2c10";c.a.defaults.baseURL="https://api.themoviedb.org";var o=function(){return c.a.get("/3/trending/all/day?api_key=".concat(a)).then((function(e){return e.data.results}))},u=function(e){return c.a.get("/3/search/movie?api_key=".concat(a,"&query=").concat(e,"&language=en-US&page=1&include_adult=false")).then((function(e){return e.data.results}))},i=function(e){c.a.get("/3/movie/".concat(e,"?api_key=").concat(a,"&language=en-US")).then((function(e){return e.data}))},s=function(e){c.a.get("/3/movie/".concat(e,"/credits?api_key=").concat(a,"&language=en-US")).then((function(e){return e.data.cast}))},f=function(e){c.a.get("/3/movie/".concat(e,"/reviews?api_key=").concat(a,"&language=en-US&page=1")).then((function(e){return e.data.results}))}},63:function(e,t,n){"use strict";var r=n(64),c=n(10);function a(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function o(e){return Array.isArray(e)?e.sort():"object"===typeof e?o(Object.keys(e)).sort((function(e,t){return Number(e)-Number(t)})).map((function(t){return e[t]})):e}t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t=c({arrayFormat:"none"},t)),r=Object.create(null);return"string"!==typeof e?r:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),c=t.shift(),a=t.length>0?t.join("="):void 0;a=void 0===a?null:decodeURIComponent(a),n(decodeURIComponent(c),a,r)})),Object.keys(r).sort().reduce((function(e,t){var n=r[t];return Boolean(n)&&"object"===typeof n&&!Array.isArray(n)?e[t]=o(n):e[t]=n,e}),Object.create(null))):r},t.stringify=function(e,t){var n=function(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[a(t,e),"[",r,"]"].join(""):[a(t,e),"[",a(r,e),"]=",a(n,e)].join("")};case"bracket":return function(t,n){return null===n?a(t,e):[a(t,e),"[]=",a(n,e)].join("")};default:return function(t,n){return null===n?a(t,e):[a(t,e),"=",a(n,e)].join("")}}}(t=c({encode:!0,strict:!0,arrayFormat:"none"},t));return e?Object.keys(e).sort().map((function(r){var c=e[r];if(void 0===c)return"";if(null===c)return a(r,t);if(Array.isArray(c)){var o=[];return c.slice().forEach((function(e){void 0!==e&&o.push(n(r,e,o.length))})),o.join("&")}return a(r,t)+"="+a(c,t)})).filter((function(e){return e.length>0})).join("&"):""}},64:function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}},66:function(e,t,n){"use strict";n.r(t);var r=n(32),c=n(0),a=n(2),o=n(8),u=n(63),i=n.n(u),s=n(29),f=n(1);t.default=function(e){var t=Object(c.useState)(""),n=Object(r.a)(t,2),u=n[0],l=n[1],d=Object(c.useState)([]),h=Object(r.a)(d,2),p=h[0],b=h[1],j=Object(c.useState)(""),m=Object(r.a)(j,2),v=m[0],y=m[1],g=Object(a.f)(),O=i.a.parse(g.search);return Object(c.useEffect)((function(){O.query&&Object(s.a)(O.query).then((function(e){e.length?(y(""),b(e)):(b([]),y("Sorry, we can't find anything for your request"))})).catch((function(e){return y(e.response.data.status_message)}))}),[O.query]),Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:"MoviesPage"}),Object(f.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.history.push({search:"query=".concat(u)}),l("")},children:[Object(f.jsx)("input",{type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",name:"query",value:u,onChange:function(e){var t=e.target.value;l(t)}}),Object(f.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(f.jsx)("span",{className:"SearchForm-button-label",children:"Search"})})]}),Object(f.jsx)("ul",{children:p.map((function(t){return Object(f.jsx)("li",{children:Object(f.jsx)(o.b,{to:{pathname:"/movies/".concat(t.id),state:{search:g&&g.search?g.search:"",from:e.location.pathname}},children:t.title||t.name})},t.id)}))}),v&&Object(f.jsx)("p",{children:v})]})}}}]);
//# sourceMappingURL=6.3c98c85a.chunk.js.map